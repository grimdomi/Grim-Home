if(typeof KAJONA=="undefined"){alert("load kajona.js before!")}KAJONA.admin.tags={};KAJONA.admin.tags.saveTag=function(c,b,a){KAJONA.admin.ajax.genericAjaxCall("tags","saveTag",b+"&tagname="+c+"&attribute="+a,function(f,d,e){if(d=="success"){KAJONA.admin.tags.reloadTagList(b,a);document.getElementById("tagname").value=""}else{KAJONA.admin.statusDisplay.messageError("<b>Request failed!</b><br />"+f)}})};KAJONA.admin.tags.reloadTagList=function(b,a){$("#tagsWrapper_"+b).addClass("loadingContainer");KAJONA.admin.ajax.genericAjaxCall("tags","tagList",b+"&attribute="+a,function(e,c,d){if(c=="success"){var g=e.indexOf("<tags>")+6;var f=e.substr(g,e.indexOf("</tags>")-g);$("#tagsWrapper_"+b).removeClass("loadingContainer");$("#tagsWrapper_"+b).html(f);KAJONA.util.evalScript(f)}else{KAJONA.admin.statusDisplay.messageError("<b>Request failed!</b><br />"+e);$("#tagsWrapper_"+b).removeClass("loadingContainer")}})};KAJONA.admin.tags.removeTag=function(b,c,a){KAJONA.admin.ajax.genericAjaxCall("tags","removeTag",b+"&targetid="+c+"&attribute="+a,function(f,d,e){if(d=="success"){KAJONA.admin.tags.reloadTagList(c,a);document.getElementById("tagname").value=""}else{KAJONA.admin.statusDisplay.messageError("<b>Request failed!</b><br />"+f)}})};KAJONA.admin.tags.loadTagTooltipContent=function(c,a,b){$("#"+b).addClass("loadingContainer");KAJONA.admin.ajax.genericAjaxCall("tags","tagList",c+"&attribute="+a+"&delete=false",function(f,d,e){if(d=="success"){var h=f.indexOf("<tags>")+6;var g=f.substr(h,f.indexOf("</tags>")-h);$("#"+b).removeClass("loadingContainer");$("#"+b).html(g);KAJONA.util.evalScript(g)}else{KAJONA.admin.statusDisplay.messageError("<b>Request failed!</b><br />"+f);$("#"+b).removeClass("loadingContainer")}})};